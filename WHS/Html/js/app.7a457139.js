(function(e){function t(t){for(var s,r,i=t[0],l=t[1],c=t[2],u=0,m=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);_&&_(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},o=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var _=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0417":function(e,t,a){e.exports=a.p+"img/AGV4.18bac90f.png"},3671:function(e,t,a){"use strict";a("6d91")},"478b":function(e,t,a){var s=a("7037").default;function n(e,t,a,s){this.flag="step",this.h=16,this.w=16,this.x=t,this.y=a,void 0==s.show||s.show?e.globalAlpha=1:e.globalAlpha=0,void 0!=s.color&&""!=s.color?e.fillStyle=s.color:e.fillStyle="#f1bbc4",e.lineWidth="1",e.fillRect(t,a,this.w,this.h)}function o(e,t,a,s){this.x1=e,this.y1=t,this.x2=a,this.y2=s,this.tmpX1=null,this.tmpY1=null,this.tmpX2=null,this.tmpY2=null,this.color="#ffffff"}a("159b"),a("cb29"),a("ac1f"),a("5319"),a("1276"),e.exports={get:function(e,t,a){console.log(e,t,a)},drawAgvMap1:function(e,t,a){console.log("drawAgvMap1..."),t.width=a.canvasWidth,t.height=a.canvasHeight,a.mapinfo.forEach((function(t){if("CustomEllipse"===t.dtype){e.globalAlpha=1;var a=t.fill.substring(1,t.fill.length-6);e.fillStyle=t.fill.replace(a,""),e.lineWidth=t.thickness,e.fillRect(t.l,t.t,t.w,t.h)}else if("CustomLine"===t.dtype)try{e.globalAlpha=1;var s=t.sp.split(","),n=t.ep.split(","),o=t.l+parseFloat(s[0]),r=t.t+parseFloat(s[1]),i=t.l+parseFloat(n[0]),l=t.t+parseFloat(n[1]);e.beginPath(),a=t.stroke.substring(1,t.stroke.length-6),e.strokeStyle="white",e.lineWidth=t.thickness+3,e.moveTo(o,r),e.lineTo(i,l),e.stroke()}catch(c){console.log("huaxian fail")}}))},arcImg:function(e,t,a){e.beginPath(),e.arc(t+8,a+8,10,0,2*Math.PI),e.fill(),e.stroke()},watermark:function(e,t){var a={watermark_txt:e,watermark_x:t.clientWidth/2-350,watermark_y:t.clientHeight/2-150,watermark_rows:1,watermark_cols:1,watermark_x_space:100,watermark_y_space:50,watermark_color:"#aaa",watermark_alpha:.15,watermark_fontsize:"200px",watermark_font:"微软雅黑",watermark_width:700,watermark_height:300,watermark_angle:0};if(1===arguments.length&&"object"===s(arguments[0])){var n=arguments[0]||{};for(var o in n)n[o]&&a[o]&&n[o]===a[o]||n[o]&&(a[o]=n[o])}var r=document.createDocumentFragment(),i=Math.max(t.scrollWidth,t.clientWidth),l=.015*i;i-=l;var c,_,u=Math.max(t.scrollHeight,t.clientHeight)+450;u=Math.max(u,window.innerHeight-30),(0==a.watermark_cols||parseInt(a.watermark_x+a.watermark_width*a.watermark_cols+a.watermark_x_space*(a.watermark_cols-1))>i)&&(a.watermark_cols=parseInt((i-a.watermark_x+a.watermark_x_space)/(a.watermark_width+a.watermark_x_space)),a.watermark_x_space=parseInt((i-a.watermark_x-a.watermark_width*a.watermark_cols)/(a.watermark_cols-1))),(0==a.watermark_rows||parseInt(a.watermark_y+a.watermark_height*a.watermark_rows+a.watermark_y_space*(a.watermark_rows-1))>u)&&(a.watermark_rows=parseInt((a.watermark_y_space+u-a.watermark_y)/(a.watermark_height+a.watermark_y_space)),a.watermark_y_space=parseInt((u-a.watermark_y-a.watermark_height*a.watermark_rows)/(a.watermark_rows-1)));for(var m=0;m<a.watermark_rows;m++){_=a.watermark_y+(a.watermark_y_space+a.watermark_height)*m;for(var p=0;p<a.watermark_cols;p++){c=a.watermark_x+(a.watermark_width+a.watermark_x_space)*p;var d=document.createElement("div");d.id="mask_div"+m+p,d.className="mask_div",d.appendChild(document.createTextNode(a.watermark_txt)),d.style.webkitTransform="rotate(-"+a.watermark_angle+"deg)",d.style.MozTransform="rotate(-"+a.watermark_angle+"deg)",d.style.msTransform="rotate(-"+a.watermark_angle+"deg)",d.style.OTransform="rotate(-"+a.watermark_angle+"deg)",d.style.transform="rotate(-"+a.watermark_angle+"deg)",d.style.visibility="",d.style.position="absolute",d.style.left=c+"px",d.style.top=_+"px",d.style.overflow="hidden",d.style.zIndex="9999",d.style.pointerEvents="none",d.style.opacity=a.watermark_alpha,d.style.fontSize=a.watermark_fontsize,d.style.fontFamily=a.watermark_font,d.style.color=a.watermark_color,d.style.textAlign="center",d.style.width=a.watermark_width+"px",d.style.height=a.watermark_height+"px",d.style.display="block",r.appendChild(d)}}t.appendChild(r)},removeWatermark:function(){void 0!=document.getElementById("mask_div00")&&document.getElementById("mask_div00").remove()}},n.prototype.drawBottomToTop=function(e,t){if("step"==e.flag){var a=new o(this.x+e.w/2,this.y+e.h,this.x+e.w/2,e.y);a.drawBottomToTop(t)}},n.prototype.drawRightToLeft=function(e,t){var a=null;"step"==e.flag&&(a=new o(this.x+e.w,this.y+e.h/2,e.x,e.y+e.h/2)),a.drawLeftToRightOrRightToLeft(t)},o.prototype.setColor=function(e){this.color=e},o.prototype.drawBottomToTop=function(e){this.x1!=this.x2||this.draw(e)},o.prototype.drawLeftToRightOrRightToLeft=function(e){this.y1!=this.y2||this.draw(e)},o.prototype.draw=function(e){e.strokeStyle=this.color,e.lineWidth=6,e.beginPath(),e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2),e.closePath(),e.stroke()}},"4ecc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAHrklEQVR4Xu2dT+hmUxjHv880KCTl32AKoVDKxGhCzGRBYrCwYKHMxt+FooSZmpqxoEGUjQVTZMbCxqRQzChllEJhELGwUMTIWElfnXFk5uf3/s6f95xzz3vf792ec57nuZ/nM3fe3/vee65BhwhUIGAVYiqkCEBiSYIqBCRWFawKKrHkQBUCEqsKVgWVWHKgCgGJVQWrgkosOVCFgMSqglVBJZYcqEJAYlXBqqASSw5UISCxqmBVUIklB6oQkFhVsCqoxJIDVQhIrCpYFbSYWCTXTsB5wMw+Eup+CJA8CcAxi1VkZt+XqLSkWAwUtMHMXixRtGLkESB5DYDNANZMimBmRZwoEsQVSTIklpsmufKcmHoVyRsAvB4KNKtioVThIUAaP5wAyS8AnB/iUqo/Ja9YuwFM+px16Pms1meuUHvLjpO8CMDHEVH3mNm6iHnBKUOItc7M9gQr04RiBPwfVu4ffuiQWCFCGv+PgMSSDVUISKwqWBVUYsmBKgQkVhWsCiqx5EAVAhKrClYFlVhyoAoBiVUFq4LOi1jux9D3h2i3me0fIq/LSfL4oXIDuALAroj8M/3Ne8T5VZvyDICtZvZztQwLApNcDmAjgE0AlrXKm5lHYmWCc8t+93I9MUWMqKUk7/RSrYxaMPwkiVWgB195wV4uEOuwEP7eJ3eVurR07MrxJFZBwO5Oiy1m9u60MUle7K9QN00ba6D1EqsC+Fe8YF+mxiZ5qhfqntS1nc2XWBUbss3/F/lbTA6Sj/oP5kfFzO98jsSq3KBfvFxPT8pD8g4v1FmVa2kZXmI1ov2ZF+zVf/P5J13cVweXN6qhZRqJ1ZI2gLcB7ABwHYBbGudumU5itaTtc/0IYMUAeVumlFgtaUusdNpDPKWTXmUfK3TFSuiDxIqHJbHiWZV7SRPJ2AdWE8rraqrESmjHEFcsd8tMs7sLEliEprqNNPaGJnU6fqK/dSZU3kx/eNeT0KH2Fh6flxv9JFZhcULhJFaIkMazCEisLGxaFCIgsUKENJ5FQGJlYdOiEAGJFSKk8SwCEisLmxaFCEisECGNZxGQWFnYtChEQGKFCGk8i4DEysKmRSECEitESONZBCRWFjYtChGQWCFCGs8iILGysGlRiIDEChHSeBaBeRHrcQDJ+yNkEV2wyMy2l4iTE4PkhQDcpiFDHOcBeCgi8UzfQRpxftWmuDdguZ1ldlbLsCAwyRP8hiH3t8o5RR6JNQU8t9Q92ewEq7plJckH/f4Ox01Zb6vlEqsQaffGVyfYd4XiHQxD8jZ/lQq+H7Bk3gKxJFYBiIeG2OIF+3OauCSv8leoq6eJM+BaiVUB/g9erudTY5M811+hbk9d29l8iVWxIR96wd4I5SB5tBfq4dDcGRmXWA0a9ZoX7NPFcpG8z0t1SoNaWqWQWK1IA3jWC3bw6W2SN/vPUasa1tAqlcRqRdrncXvDvwDgbADXN87dMp3Eaknb5/oEgHsb/JgPiTVAdyVWAvQhdptJKK+rqRIroR0SKx6WxIpnpY3XElhJrARYQ1yxngPwTUKNvUx1fxF+20sxiXWcA+DeiDUz/eFd+2NFdLjklHm50U9ilbQmIpbEioCkKekEJFY6M62IICCxIiBpSjoBiZXOTCsiCEisCEiakk5AYqUz04oIAhIrApKmpBOQWOnMtCKCgMSKgKQp6QQkVjozrYggILEiIGlKOgGJlc5MKyIISKwISJqSTkBipTPTiggCEisCkqakE5gXsd4E4N6v3Po4FsBWM1v0yeaaxZA8wz81vbxmniVirwBwbUTumb6DNOL8qk5xTzY7wX6qmuWfp6aP8EJtAso9X1Cxbok1JdwDXi63bWWVg+RdXqrTqySoE1RiFeL6tRfspULx3FVqvRdqdamYDeNIrMKw3/Mbf7yTG5fkJV6oG3NjdLBOYlVqwg4v2L7Y+CRP80LdHbum43kSq3JznvT/Re5fKg/JjX5LoyMr19MqvMRqQPpXL9dTC3OR3OCFOrNBHS1TSKyGtD/3gu0k6b4Lcl8dXNYwf8tUEqslbZ/Lfanrvmgc8yGxBuiuxEqAPsSmIAnldTVVYiW0Q2LFw5JY8azK/X5FcjeAtQm5Z22qxEromK5Y8bAkVjyrQa5YtwLYm1BjL1NXAnCvRZnFYw0A96tC6Jjpvwq1P1aovYXH5+VGP4lVWJxQOIkVIqTxLAISKwubFoUISKwQIY1nEZBYWdi0KERAYoUIaTyLgMTKwqZFIQISK0RI41kEJFYWNi0KEZBYIUIazyIgsbKwaVGIwLyItcrM3CvadDQiQNL9CP1BRLouf4RmROH7zOyCiHmaUpAAyWUA/ooIObNirTezXREnqCmFCZB8AMC2UFgzK3KPXpEgrliSS12x3P1Xm83srdCJabweAZKPAHhsqQw9ijXp4c0/WmwZVK8d44pM8mQAVwJw+4X97zCz7SXOuNgVq0QxijEeAhJrPL3s6kwkVlftGE8xEms8vezqTCRWV+0YTzESazy97OpMJFZX7RhPMRJrPL3s6kwkVlftGE8xEms8vezqTCRWV+0YTzESazy97OpMJFZX7RhPMRJrPL3s6kwkVlftGE8xEms8vezqTCRWV+0YTzESazy97OpM/gbmcD3TWH3AkAAAAABJRU5ErkJggg=="},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=a("5c96"),o=a.n(n),r=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),i=[],l={name:"App",components:{}},c=l,_=(a("034f"),a("2877")),u=Object(_["a"])(c,r,i,!1,null,null,null),m=u.exports,p=a("8c4f"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"rcsmap-container"},[s("div",{staticClass:"rcsmap-header"},e._l(e.TotalFloor,(function(t){return s("div",{key:t,staticClass:"tab",class:t==e.selectTabIndex?"tabSelect":"tabUnselect",on:{click:function(a){return e.tabChange(t)}}},[e._m(0,!0),s("p",{staticClass:"font"},[e._v(e._s(t)+" 层")])])})),0),s("div",{staticClass:"rcsmap-main"},[s("div",{staticClass:"warning mapInfo"},[e._v(e._s(e.mapInfo))]),s("div",{staticClass:"box",attrs:{id:"div1"},on:{mousewheel:e.scaleDom,mousedown:e.handleDragDown}},[s("canvas",{attrs:{id:"scaleDragCanvas",width:"1920",height:"1080"}}),e._l(e.imgList,(function(t){return s("img",{key:t.key,staticClass:"icon",style:"margin-left:"+t.l+"px;margin-top:"+t.t+"px;width:"+t.w+"px;height:"+t.h+"px;",attrs:{src:a("4ecc"),alt:""},on:{mouseover:function(a){return e.IconOver(t)},mouseout:function(t){return e.IconOut()}}})})),e._l(e.carList,(function(t){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.floor==e.selectTabIndex,expression:"item.floor == selectTabIndex"}],key:t.code,style:"margin-left:"+t.left+"px;margin-top:"+t.top+"px;position:absolute;"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.code+" 电量:"+t.power+"%",placement:"top"}},[s("img",{staticClass:"carIcon",style:"width:"+t.width+"px;height:"+t.height+"px;",attrs:{src:a("0417"),id:t.code,alt:""},on:{mouseenter:function(a){return e.transform(t.code)},mouseout:e.transformOut}})]),s("span",{staticClass:"pulse delay-01"}),s("span",{staticClass:"pulse delay-02"})],1)}))],2)]),s("div",{staticClass:"rcsmap-right"},e._l(e.menuList,(function(t){return s("div",{key:t.index,staticClass:"menutab",class:t.index==e.selectMenuIndex?"tabSelect":"tabUnselect",on:{click:function(a){return e.menuChange(t)}}},[s("div",{staticClass:"icon-item"},[s("i",{class:t.content})]),s("p",{staticClass:"font"},[e._v(e._s(t.name))])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:e.menu0,expression:"menu0"}],staticClass:"right-menu",attrs:{id:"menu0"}},[s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{staticClass:"tabcolor",attrs:{label:"设备信息",name:"first"}},[s("el-row",[s("el-select",{attrs:{clearable:"",placeholder:"请选择设备编号",size:"small"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.carList,(function(e){return s("el-option",{key:e.code,attrs:{label:e.code,value:e.code}})})),1),s("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:"",size:"small"},on:{click:function(t){return e.carSearch()}}},[e._v("查询")])],1),e._l(e.carShow,(function(t){return s("el-row",{key:t.code},[s("el-row",{staticClass:"car-header"},[s("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},[s("el-checkbox",{attrs:{label:"追踪"}}),s("el-checkbox",{attrs:{label:"隐匿"}})],1)],1),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple textCenter"},[s("img",{attrs:{src:e.carPng,alt:"",srcset:""}}),s("p",{staticClass:"textCenter"},[e._v("电量")]),s("p",{staticClass:"textColor"},[e._v(e._s(t.power)+"%")])])]),s("el-col",{attrs:{span:18}},[s("div",{staticClass:"grid-content bg-purple-light"},[s("el-row",{staticClass:"row-bg",attrs:{gutter:10}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("设备编号 "+e._s(t.code))])])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("IP 192.168.0.1")])])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("设备类型 潜伏")])])])],1),s("el-row",{staticClass:"row-bg",attrs:{gutter:10}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("所在地图 1")])])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("所在楼层 "+e._s(t.floor))])])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("是否在线 "),s("span",{staticClass:"normal"},[e._v("在线")])])])])],1),s("el-row",{staticClass:"row-bg",attrs:{gutter:10}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("任务状态 "),s("span",{staticClass:"warning"},[e._v("运行中")])])])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("设备状态 "),s("span",{staticClass:"warning"},[e._v("运行中")])])])]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("负载情况 "),s("span",{staticClass:"normal"},[e._v("空载")])])])])],1),s("el-row",{staticClass:"row-bg"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("当前坐标角度 ["+e._s(t.left)+","+e._s(t.top)+"]")])]),s("el-row",{staticClass:"row-bg"},[s("label",{staticClass:"labelText",attrs:{for:""}},[e._v("目的坐标角度 ["+e._s(t.endleft)+","+e._s(t.endtop)+"]")])])],1)])],1)}))],2),s("el-tab-pane",{staticClass:"tabcolor",attrs:{label:"货架信息",name:"second"}},[e._v("配置管理")])],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.menu1,expression:"menu1"}],staticClass:"right-menu",attrs:{id:"menu1"}},[e._v("控制调度")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.menu2,expression:"menu2"}],staticClass:"right-menu",attrs:{id:"menu2"}},[e._v("屏幕录制")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.menu3,expression:"menu3"}],staticClass:"right-menu",attrs:{id:"menu3"}},[e._v("辅助工具")])])},h=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-item"},[a("i",{staticClass:"el-icon-map-location"})])}],w=a("66c0"),f=w["a"],g=(a("3671"),Object(_["a"])(f,d,h,!1,null,"cc01ba14",null)),v=g.exports;s["default"].use(p["a"]);var b=[{path:"/",name:"RcsNew",component:v}],k=new p["a"]({routes:b}),C=k;s["default"].use(o.a),s["default"].config.productionTip=!1,new s["default"]({router:C,render:function(e){return e(m)}}).$mount("#app")},"66c0":function(module,__webpack_exports__,__webpack_require__){"use strict";var E_ray_projects_WHS_NET5_vue_vue_rcs_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("53ca"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_5__),_views_RCSNew_rcs_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("478b"),_views_RCSNew_rcs_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_views_RCSNew_rcs_js__WEBPACK_IMPORTED_MODULE_6__);__webpack_exports__["a"]={name:"RCSMapNew",data:function(){return{canvas:null,context:null,canvas1:null,ctx:null,oDiv:null,icon:null,speed:0,space:0,step:0,i:0,finish:!0,ws:null,Position:{X:0,Y:0},imgHtml:"",imgList:[],scale:1,flowData:null,AGVCarList:[{}],editableTabsValue:"2",positionList:[{title:"Tab 1",name:"1-1 haining",content:"Tab 1 content",index:0},{title:"Tab 2",name:"1-2 haining",content:"Tab 2 content",index:1},{title:"Tab 2",name:"1-3 haining",content:"Tab 2 content",index:2},{title:"Tab 2",name:"1-4 haining",content:"Tab 2 content",index:3},{title:"Tab 2",name:"1-5 haining",content:"Tab 2 content",index:4},{title:"Tab 2",name:"1-6 haining",content:"Tab 2 content",index:5},{title:"Tab 2",name:"1-7 haining",content:"Tab 2 content",index:6},{title:"Tab 2",name:"1-8 haining",content:"Tab 2 content",index:7},{title:"Tab 2",name:"1-9 haining",content:"Tab 2 content",index:8},{title:"Tab 2",name:"1-10 haining",content:"Tab 2 content",index:9},{title:"Tab 2",name:"1-11 haining",content:"Tab 2 content",index:10},{title:"Tab 2",name:"1-12 haining",content:"Tab 2 content",index:11},{title:"Tab 2",name:"1-13 haining",content:"Tab 2 content",index:12},{title:"Tab 2",name:"1-14 haining",content:"Tab 2 content",index:13},{title:"Tab 2",name:"1-15 haining",content:"Tab 2 content",index:14},{title:"Tab 2",name:"1-16 haining",content:"Tab 2 content",index:15},{title:"Tab 2",name:"1-17 haining",content:"Tab 2 content",index:16}],selectTabIndex:1,menuList:[{title:"Tab 1",name:"信息监视",content:"el-icon-view",index:0},{title:"Tab 1",name:"控制调度",content:"el-icon-set-up",index:1},{title:"Tab 1",name:"屏幕录制",content:"el-icon-video-camera-solid",index:2},{title:"Tab 1",name:"辅助工具",content:"el-icon-setting",index:3}],selectMenuIndex:0,activeName:"first",options:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],value:"",carPng:__webpack_require__("c013"),carList:null,carShow:null,checkList:[],menu0:!0,menu1:!1,menu2:!1,menu3:!1,mapInfo:"",mousex:0,mousey:0,transformId:null,rotateVal:0,TotalFloor:0,agv_register:{Params:{UserName:"admin",Password:"123456"},ID:"1",Action:"agv_register"},agv_map:{Params:{Floor:1},ID:"1",Action:"agv_map"},agv_allcars:{Params:{},ID:"1",Action:"agv_allcars"}}},created:function(){},mounted:function(){this.webSocket(),window.onbeforeunload=function(){try{this.ws.send("quit"),this.ws.close(),this.ws=null}catch(e){console.log(e)}}},watch:{},methods:{initCanvas:function(){var e=this;console.log("初始化canvas"),this.canvas=document.getElementById("scaleDragCanvas"),this.context=this.canvas.getContext("2d"),e.oDiv=document.getElementById("div1"),null!=e.flowData?(e.oDiv.style.width=e.flowData.canvasWidth+"px",e.oDiv.style.height=e.flowData.canvasHeight+"px",Object(_views_RCSNew_rcs_js__WEBPACK_IMPORTED_MODULE_6__["drawAgvMap1"])(this.context,this.canvas,this.flowData),this.addIcon(),Object(_views_RCSNew_rcs_js__WEBPACK_IMPORTED_MODULE_6__["removeWatermark"])(),Object(_views_RCSNew_rcs_js__WEBPACK_IMPORTED_MODULE_6__["watermark"])("第"+this.selectTabIndex+"层",document.getElementById("div1"))):(console.log("楼层信息未获取。。。"),setTimeout((function(){e.initCanvas()}),5e3))},scaleDom:function(e){var t=document.getElementById("div1"),a=parseFloat((t.style.transform||"scale(1)").replace(/[^0-9.]/gi,"")),s=e.wheelDelta/1200;a+=s,a>=.5&&(t.style.transform="scale(".concat(a,")"))},handleDragDown:function(e){var t=this;e=e||window.event,t.mousex=e.clientX-t.oDiv.offsetLeft,t.mousey=e.clientY-t.oDiv.offsetTop,document.onmousemove=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var a=e.clientX-t.mousex,s=e.clientY-t.mousey;t.oDiv.style.left=a+"px",t.oDiv.style.top=s+"px"},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}},addIcon:function(){var e=this;e.imgList=[],e.flowData.mapinfo.forEach((function(t){"CustomEllipse"===t.dtype&&e.imgList.push(t)})),console.log(e.imgList)},transform:function(e){var t=this;this.transformId=setInterval((function(){var a=document.getElementById(e);t.rotateVal+=1,a.style.transform="rotate("+t.rotateVal+"deg)",a.style.transition="0.1s linear"}),100)},transformOut:function(){clearInterval(this.transformId)},initCar:function initCar(){for(var _this=this,i=0;i<4;i++)eval("_this.car"+(i+1)).x=_this.flowData[0].data[i].x,eval("_this.car"+(i+1)).y=_this.flowData[0].data[i].y},drawCar:function drawCar(){for(var _this=this,i=0;i<4;i++)_this.ctx.fillStyle=eval("_this.car"+(i+1)).color,Object(_views_RCSNew_rcs_js__WEBPACK_IMPORTED_MODULE_6__["arcImg"])(_this.ctx,eval("_this.car"+(i+1)).x,eval("_this.car"+(i+1)).y)},webSocket:function(){var e=this;"WebSocket"in window?(console.log("您的浏览器支持WebSocket"),e.ws=new WebSocket("ws://127.0.0.1:18080/websocket"),e.ws.onopen=function(){console.log("open"),e.ws.send(JSON.stringify(e.agv_register)),setInterval((function(){e.ws.send('{"Params": {},"ID": "1","Action": "ping"}')}),1e4)},e.ws.onmessage=function(t){console.log(t);var a=JSON.parse(t.data);switch(a.Action){case"agv_register":0==a.errCode?(console.log(a.errText),e.ws.send(JSON.stringify(e.agv_map))):console.log(a.errText);break;case"agv_map":0==a.errCode?(e.flowData=a.params.Result,e.TotalFloor=a.params.Result.TotalFloor,e.mapInfo="地图大小("+a.params.Result.gridRows+","+a.params.Result.gridColumns+")",e.initCanvas(),e.ws.send(JSON.stringify(e.agv_allcars))):console.log("获取楼层信息失败",a.errText);break;case"agv_allcars":0==a.errCode?(e.carList=a.params.Result,e.carShow=e.carList):console.log("获取所有agv信息失败",a.errText);break;case"agv_move":if(0==a.errCode){if(null!=e.carList){var s=a.params.Result.startPoint.split(","),n=a.params.Result.endPoint.split(",");console.log(Object(E_ray_projects_WHS_NET5_vue_vue_rcs_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["a"])(s),s[0]),e.carList.forEach((function(t){t.code==a.params.Result.code&&(void 0==t.path||null==t.path||t.path==[]?(t.power=a.params.Result.power,t.floor=a.params.Result.floor,t.left=Number(s[0]),t.top=Number(s[1]),t.endleft=Number(n[0]),t.endtop=Number(n[1]),t.path=new Array,t.distance=new Array,t.times=new Array,t.times.push(a.params.Result.distance),t.path.push(a.params.Result.command),s[0]==n[0]?t.distance.push(Math.abs(Number(n[1])-Number(s[1]))):t.distance.push(Math.abs(Number(n[0])-Number(s[0]))),t.i=0,console.log(t,s),e.$options.methods.move(t,e)):(t.endleft=Number(n[0]),t.endtop=Number(n[1]),t.power=a.params.Result.power,t.floor=a.params.Result.floor,t.times.push(a.params.Result.distance),t.path.push(a.params.Result.command),s[0]==n[0]?t.distance.push(Math.abs(Number(n[1])-Number(s[1]))):t.distance.push(Math.abs(Number(n[0])-Number(s[0])))))}))}}else console.log("获取agv实时位置失败",a.errText);break}},e.ws.onclose=function(){console.log("close")},e.ws.onerror=function(e){console.log(e)}):console.log("您的浏览器不支持WebSocket")},move:function(e,t){if(console.log("move...",e),e.i==e.path.length)console.log("agv:"+e.code+"移动结束"),e.i=0,e.path=null,e.distance=null,e.times=null;else{var a=e.path[e.i],s=e.distance[e.i],n=e.times[e.i];switch(a){case 3:t.$options.methods.up(e,t,s,n);break;case 4:t.$options.methods.down(e,t,s,n);break;case 1:t.$options.methods.left(e,t,s,n);break;case 2:t.$options.methods.right(e,t,s,n);break}e.i++}},up:function(e,t,a,s){console.log("上");var n=0,o=a/(10*s),r=setInterval((function(){n+=o,n<=a?t.$options.methods.run("up",e,t,o):(clearInterval(r),t.$options.methods.move(e,t))}),100)},down:function(e,t,a,s){var n=0,o=a/(10*s),r=setInterval((function(){n+=o,n<=a?t.$options.methods.run("down",e,t,o):(clearInterval(r),t.$options.methods.move(e,t))}),100)},left:function(e,t,a,s){var n=0,o=a/(10*s),r=setInterval((function(){n+=o,n<=a?t.$options.methods.run("left",e,t,o):(clearInterval(r),t.$options.methods.move(e,t))}),100)},right:function(e,t,a,s){var n=0,o=a/(10*s),r=setInterval((function(){n+=o,n<=a?t.$options.methods.run("right",e,t,o):(clearInterval(r),t.$options.methods.move(e,t))}),100)},run:function(e,t,a,s){switch(console.log("run...",s),e){case"up":t.top+=-s;break;case"down":t.top+=s;break;case"left":t.left+=-s;break;case"right":t.left+=s;break}},tabChange:function(e){var t=this;console.log(e),t.selectTabIndex=e,t.agv_map.Params.Floor=t.selectTabIndex,t.context.clearRect(0,0,t.canvas.width,t.canvas.height),t.flowData=null,t.ws.send(JSON.stringify(t.agv_map))},menuChange:function menuChange(item){var _this=this;console.log(this,item),_this.selectMenuIndex=item.index,console.log(eval("_this.menu"+item.index),_this["".concat("menu"+item.index)]),1==_this["".concat("menu"+item.index)]?_this["".concat("menu"+item.index)]=!1:_this.menuList.forEach((function(e){e.index==item.index?_this["".concat("menu"+item.index)]=!0:_this["".concat("menu"+e.index)]=!1}))},handleClick:function(e,t){console.log(e,t)},IconOver:function(e){this.mapInfo+="  位置 X:"+e.l+",Y:"+e.t},IconOut:function(){this.mapInfo="地图大小("+this.flowData.gridRows+","+this.flowData.gridColumns+")"},carSearch:function(){var e=this;e.carShow=[],e.carList.forEach((function(t){t.code!=e.value&&""!=e.value||e.carShow.push(t)}))}}}},"6d91":function(e,t,a){},"85ec":function(e,t,a){},c013:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAErklEQVR4Xu2aWcxdYxSGn1ckwoUK7iQiKiSmEENJCb0TvyCGlmq1CSGCxExC6a8khGhoLwwXhtJGVYzFhURFG2MTOly0UUHcGWJIJBLxymq+c7Kd/uffw5mdve7O2etb71rvXusb1rfFmIvGPH5qAuoMGHMG6hKomgC2bwSuAGZVtdGlcd8CKyQ9VsVepQywvQK4oQpgD8eslBQvpZSUJsD2IuC5Uij9U14s6fkycFUIeBuYSCCfAu+VAeyB7jmZMlwv6bwyGKUIsH0y8HkGYIGkl8oAdlvXdsxDL2bsniLpi6I4ZQl4CLgzGbekvYoC9VLP9j/Q3NQ9LOmuonhlCfgamJmMr5J0ZVGgXurZfgFYmDB2STqiKF5hAmwvAFZVTbWiDlXRm6I0F0rKlkVbs2UIeB24IFnaLunYKs72aoztbcAxyf4bki4sglWIANuHA7syBpdIeqAIQL90bN8DLMvgzZT0TR5+UQIi2LuTsb+BgyT9nme8n89t7w/8DOydcB+UFKRMK0UJ2AEcmSytk3RpnuFBPLf9CnBJwt4p6ag8P3IJsH0usD5jaJ6ktXmGB/Hc9lzg5Qz2hKR3pvOlCAHrgIuTka2Sjh9EcEUxbW8Bjkv6r0pqZMSUJqYlwPYM4NfMyGWS7i3qzCD0bN8PLMlgHyDpt3a+5BFwM9A4Zv4FnCbpy0EEVhTT9gnAJ8A+acwtkpZXJWAr0Fjv10qaV9SRQerZjnkg5oOQbZIaJbGHW20zwPapQJz2GjJf0ppBBlYU2/blwOqM/ixJn001fjoClgL3pUGR9rMl/VnUiUHq2d4P2AREOYRMSop4imWA7WuApzLak8CGQQZVAfvszAuM4ddKerrVzn8ywHZscGLiO70C4CgM+RhYLik2TLulSYDtbMqPQjCd+Ngsid0EjFnwDeKWSprUFFvdqPU4RGyR9EcnNA/TWNuzUyf7soxfE0HAR8AZ6c+hO+d3m0TbzwBXJ7sbg4DvgEPTH9dJerLboMNkz3acZb5KPn0fBDjj4BxJo7bcleY3G3NNQJ0BFUvA9onArcD7kgZ6VZaW8X2BuBP4Ja8mOi4B2yuB6zNAmyXFrVFfxfbRwPYW0EWS4p6grXSDgB+AQ1oQ+n5abLOBe03SRT0jwHYcMj6YAmCDpDn9TIGW+asJLSmv0dNc+SqtArZjHW3tDfZ9CbX9BND6TcBqSXFh2tMSiD7BHUCcu0PWSJrfz7ffwLIdN8Enpd9xd3mTpGwXew+3Op4DMuBXAW9K+nEQwWf8iON7ND/fLeJH1wgoAjaMOjUBmb1PpUlwGN9qGZ/qDGjJgJjADk4Mzs32y8qwOiq6LQ3fn6IENkbLOwUQ++i4W/s/S+xfDkwBbgoCohsUXaFxlDMbTdHbgEfGjIHbJT2abYvHbio+KGh8CNHg4ywg9v8hcUEyCtK40Yru1octDu8EdkjaHP8X+T4gDj5NAtpdMQ0LKy2HtdwDWk1A3puzXWdAXQJjPgc8CyxOpdL3tldeibY+tx2rWeNr8bcknT+djSKT4GGJgBmS4up86MV2NGuiSfu4pPhQoq3kEjD00XboYE1AhwSO/PA6A0b+FXYYwNhnwL+sEBDu8kf3CgAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=app.7a457139.js.map